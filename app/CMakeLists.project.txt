include_directories(../ocore/ostlc/include)
include_directories(../ocore/owc/include)
include_directories(../ocore/ogc/include)
include_directories(include)

file(GLOB_RECURSE app_SRC
	"include/*.h"
	"src/*.c"
	"include/*.hpp"
	"src/*.cpp"
	"res/shaders/*.frag"
	"res/shaders/*.geom"
	"res/shaders/*.vert"
	"res/shaders/*.comp"
)

add_library(
	app STATIC
	${app_SRC}
)

target_link_libraries(app ostlc)
target_link_libraries(app owc)
target_link_libraries(app ogc)

add_custom_command(TARGET app COMMAND "${HOME_DIR}/prepare_resources")

if(MSVC)
	set(CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE} /MT")
	set(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} /MTd")
	set_target_properties(app PROPERTIES VS_GLOBAL_DisableFastUpToDateCheck true)
endif()